{"version":3,"sources":["components/CharDetails/CharDetails.module.css","components/CharDetails/GetDetails.js","components/CharDetails/CharDetails.js"],"names":["module","exports","getDetails","value","state","undefined","arrV","split","map","el","vehicles","find","e","url","name","join","films","title","CharDetails","character","homeworld","isLoading","toggleClass","a","likeBtn","currentTarget","className","newChar","LocalServ","setFavorite","swal","newFavorites","removeFavorite","localStorage","setItem","JSON","stringify","classList","toggle","this","setState","props","location","propsHome","allFetch","then","filmsFetch","currentName","pathname","fetchApiQuery","data","console","log","favorites","findDoubleFav","height","mass","hair_color","skin_color","eye_color","birth_year","gender","s","characterDet","setLike","onClick","Favorite","Component"],"mappings":"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","file":"static/js/CharDetails.b3779309.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"characterDet\":\"CharDetails_characterDet__KJjOX\"};","export default function getDetails(value, state) {\r\n  if (value === 'undefined' || value === undefined || !value) {\r\n    return 'no results';\r\n  } else {\r\n    const arrV = value.split(',');\r\n\r\n    if (arrV[0].split('/')[4] === 'vehicles') {\r\n      const newV = arrV.map(el => state.vehicles.find(e => e.url === el).name);\r\n      return newV.join(', ');\r\n    }\r\n\r\n    if (arrV[0].split('/')[4] === 'films') {\r\n      const allStrF = arrV.map(el => state.films.find(e => e.url === el).title);\r\n      return allStrF.join(', ');\r\n    }\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { allFetch, filmsFetch, fetchApiQuery } from '../../services/FetchApi';\r\nimport swal from 'sweetalert';\r\nimport { Favorite } from '@material-ui/icons';\r\n\r\nimport Spinner from '../Loader';\r\nimport LocalServ from '../LocalService/LocalService';\r\nimport getDetails from './GetDetails';\r\nimport s from './CharDetails.module.css';\r\n\r\nexport default class CharDetails extends Component {\r\n  state = {\r\n    character: [],\r\n    vehicles: [],\r\n    films: [],\r\n    homeworld: '',\r\n    isLoading: true,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      this.setState({ homeworld: this.props.location.propsHome }); ////planet\r\n\r\n      await allFetch('vehicles').then(vehicles => {\r\n        //////vehicles\r\n        this.setState({ vehicles });\r\n      });\r\n      await filmsFetch().then(films => {\r\n        //////films\r\n        this.setState({ films });\r\n      });\r\n\r\n      const currentName = this.props.location.pathname.split('/')[2]; //////character\r\n      await fetchApiQuery(currentName).then(data => {\r\n        const character = data[0];\r\n\r\n        this.setState({ character });\r\n        this.setState({ isLoading: false });\r\n      });\r\n      ////like\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  setLike() {\r\n    if (localStorage.favorites) {\r\n      return LocalServ.findDoubleFav(this.state.character.name)\r\n        ? 'like'\r\n        : 'notLike';\r\n    } else return 'notLike';\r\n  }\r\n\r\n  toggleClass = async e => {\r\n    const likeBtn = e.currentTarget;\r\n    if (likeBtn.className === 'notLike') {\r\n      const newChar = this.state.character;\r\n      newChar.homeworld = this.state.homeworld;\r\n      LocalServ.setFavorite(newChar);\r\n    } else {\r\n      swal('Character removed from favorites!');\r\n      const newFavorites = LocalServ.removeFavorite(this.state.character.name);\r\n      localStorage.setItem('favorites', JSON.stringify(newFavorites));\r\n    }\r\n    likeBtn.classList.toggle('like');\r\n    likeBtn.classList.toggle('notLike');\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      height,\r\n      mass,\r\n      hair_color,\r\n      skin_color,\r\n      eye_color,\r\n      birth_year,\r\n      gender,\r\n      vehicles,\r\n      films,\r\n    } = this.state.character;\r\n    const { isLoading, homeworld } = this.state;\r\n\r\n    return (\r\n      <div className={s.characterDet}>\r\n        <h2>{isLoading ? <Spinner /> : 'Character Details'}</h2>\r\n        <p className={`${this.setLike()}`} onClick={this.toggleClass}>\r\n          <Favorite />\r\n        </p>\r\n        <p>\r\n          <span> name: </span> {name}\r\n        </p>\r\n        <p>\r\n          <span> height: </span>\r\n          {height}\r\n        </p>\r\n        <p>\r\n          <span> mass: </span> {mass}\r\n        </p>\r\n        <p>\r\n          <span> hair color: </span> {hair_color}\r\n        </p>\r\n        <p>\r\n          <span> skin color: </span> {skin_color}\r\n        </p>\r\n        <p>\r\n          <span> eye color: </span> {eye_color}\r\n        </p>\r\n        <p>\r\n          <span> birth year: </span> {birth_year}\r\n        </p>\r\n        <p>\r\n          <span> gender: </span> {gender}\r\n        </p>\r\n        <p>\r\n          <span> homeworld: </span> {homeworld}\r\n        </p>\r\n        <p>\r\n          <span> vehicles: </span> {getDetails(`${vehicles}`, this.state)}\r\n        </p>\r\n        <p>\r\n          <span> films: </span> {getDetails(`${films}`, this.state)}\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}