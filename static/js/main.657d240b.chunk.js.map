{"version":3,"sources":["components/ButtonLoadMore.js","components/Searchbar/Searchbar.js","components/Characters/Characters.js","components/views/Home.js","components/views/User.js","routes/routes.js","components/views/Login.js","logo.svg","components/Navigation/Navigation.js","components/PrivateRote.js","App.js","index.js","components/Characters/Characters.module.css","components/LocalService/LocalService.js","components/Searchbar/Searchbar.module.css","services/FetchApi.js","components/Navigation/Navigation.module.css","components/Loader.js"],"names":["Button","onClick","this","props","Component","Searchbar","state","value","handleChange","target","setState","handleSubmit","e","preventDefault","onSubmit","className","s","SearchForm","SearchFormInput","type","placeholder","onChange","SearchFormButton","SearchFormButtonLabel","Characters","characters","planets","isLoading","searchQuery","page","error","showBtn","showAll","fetchCharacterByQuery","fetchApiQuery","then","length","prevState","fetchApi","catch","finally","loading","handleSearchQuery","query","swal","fetchNextCharacters","a","charFetchApi","data","results","scroll","window","scrollTo","top","document","documentElement","scrollHeight","behavior","toggleClass","currentName","currentTarget","parentNode","childNodes","textContent","likeBtn","currentCharacter","find","character","name","homeworld","LocalServ","setFavorite","newFavorites","removeFavorite","localStorage","setItem","JSON","stringify","classList","toggle","getHome","num","substr","split","join","planet","undefined","console","log","onBtnAll","allFetch","prevProps","favorites","findDoubleFav","message","charactersList","map","charactersListItem","setLike","Favorite","to","pathname","propsHome","gender","up","onBtnUp","ArrowUpwardSharp","Home","User","user","parse","getItem","Login","isLoggedIn","userId","email","picture","redirectLogin","responseFacebook","response","userID","url","updateData","fbContent","src","alt","width","exact","routes","appId","fields","cssClass","callback","push","Navigation","children","redirectLogout","onLogout","removeItem","menu","wrap","logo","navBtn","PrivateRoute","component","rest","isAuthenticated","render","AsyncChar","lazy","App","fallback","path","ReactDOM","getElementById","module","exports","localServ","getFavorites","arr","f","filter","axios","defaults","baseURL","get","firstResponse","next","allRes","newArr","allResponses","filmsFetch","filmsRes","res","count","Spinner","color","height"],"mappings":"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","file":"static/js/main.657d240b.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Button extends Component {\r\n  render() {\r\n    return <button onClick={this.props.onClick}>Load more</button>;\r\n  }\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from 'react';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    value: '',\r\n  };\r\n\r\n  handleChange = ({ target }) => {\r\n    this.setState({\r\n      value: target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.value);\r\n    this.setState({ value: '' });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            placeholder=\"search for characters\"\r\n            value={value}\r\n            onChange={this.handleChange}\r\n          />\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}></span>\r\n          </button>\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport swal from 'sweetalert';\r\nimport { ArrowUpwardSharp } from '@material-ui/icons';\r\nimport { Favorite } from '@material-ui/icons';\r\n\r\nimport Spinner from '../Loader';\r\nimport Button from '../ButtonLoadMore';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport LocalServ from '../LocalService/LocalService';\r\nimport { charFetchApi, allFetch, fetchApiQuery } from '../../services/FetchApi';\r\n\r\nimport s from './Characters.module.css';\r\n\r\nexport default class Characters extends Component {\r\n  state = {\r\n    characters: [],\r\n    planets: [],\r\n    isLoading: false,\r\n    searchQuery: '',\r\n    page: 2,\r\n    error: null,\r\n    showBtn: true,\r\n    showAll: false,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    this.setState({ isLoading: true });\r\n    await allFetch('planets').then(planets => {\r\n      this.setState({ planets });\r\n      this.fetchApi();\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.searchQuery;\r\n    const nextQuery = this.state.searchQuery;\r\n\r\n    if (prevQuery !== nextQuery) {\r\n      this.fetchCharacterByQuery();\r\n      this.setState({ loading: true });\r\n    }\r\n  }\r\n\r\n  fetchApi() {\r\n    charFetchApi()\r\n      .then(data => data.results)\r\n      .then(characters => this.setState({ characters }))\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => {\r\n        if (this.state.isLoading) {\r\n          this.setState({ isLoading: false });\r\n        }\r\n      });\r\n  }\r\n\r\n  fetchCharacterByQuery = () => {\r\n    const { searchQuery } = this.state;\r\n    fetchApiQuery(searchQuery)\r\n      .then(characters => {\r\n        if (!characters) {\r\n          this.fetchApi();\r\n          return;\r\n        }\r\n        if (characters.length <= 10) {\r\n          this.setState({ showBtn: false, showAll: true });\r\n        }\r\n        this.setState(prevState => ({\r\n          characters: [...prevState.characters, ...characters],\r\n        }));\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  handleSearchQuery = query => {\r\n    if (!query || query === ' ') {\r\n      swal('Please provide more info');\r\n      return;\r\n    }\r\n    this.setState({ searchQuery: query, page: 1, characters: [] });\r\n  };\r\n\r\n  fetchNextCharacters = async () => {\r\n    this.setState({ isLoading: true });\r\n    await charFetchApi(this.state.page)\r\n      .then(data => data.results)\r\n      .then(characters => {\r\n        if (characters.length < 10) {\r\n          this.setState({ showBtn: false });\r\n        }\r\n        this.setState(prevState => ({\r\n          characters: [...prevState.characters, ...characters],\r\n          page: prevState.page + 1,\r\n        }));\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n        this.scroll();\r\n      });\r\n  };\r\n\r\n  scroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  toggleClass = async e => {\r\n    const currentName =\r\n      e.currentTarget.parentNode.childNodes[1].childNodes[0].textContent;\r\n    const likeBtn = e.currentTarget;\r\n    if (likeBtn.className === 'notLike') {\r\n      const currentCharacter = this.state.characters.find(\r\n        character => character.name === currentName\r\n      );\r\n      currentCharacter.homeworld =\r\n        e.currentTarget.parentNode.childNodes[1].childNodes[2].childNodes[1].textContent;\r\n\r\n      LocalServ.setFavorite(currentCharacter);\r\n    } else {\r\n      swal('Character removed from favorites!');\r\n      const newFavorites = LocalServ.removeFavorite(currentName);\r\n      localStorage.setItem('favorites', JSON.stringify(newFavorites));\r\n    }\r\n    likeBtn.classList.toggle('like');\r\n    likeBtn.classList.toggle('notLike');\r\n  };\r\n\r\n  getHome = homeworld => {\r\n    try {\r\n      const num = homeworld.substr(-3).split('/').join('') - 1;\r\n      const planet = this.state.planets[num];\r\n      if (planet == undefined) {\r\n        console.log('true');\r\n        return homeworld;\r\n      }\r\n      return planet.name;\r\n    } catch (e) {\r\n      console.log(e);\r\n      return homeworld;\r\n    }\r\n  };\r\n\r\n  onBtnUp() {\r\n    window.scrollTo(0, 0);\r\n  }\r\n  onBtnAll = () => {\r\n    this.fetchApi();\r\n  };\r\n\r\n  setLike(name) {\r\n    if (localStorage.favorites) {\r\n      return LocalServ.findDoubleFav(name) ? 'like' : 'notLike';\r\n    } else return 'notLike';\r\n  }\r\n\r\n  render() {\r\n    const { characters, isLoading, error, showBtn, showAll } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.handleSearchQuery} />\r\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\r\n        {isLoading && <Spinner />}\r\n        {characters.length > 0 && (\r\n          <>\r\n            <h1>Star Wars Characters</h1>\r\n            <ul className={s.charactersList}>\r\n              {characters.map(character => (\r\n                <li className={s.charactersListItem} key={character.name}>\r\n                  <p\r\n                    className={`${this.setLike(character.name)}`}\r\n                    onClick={this.toggleClass}\r\n                  >\r\n                    <Favorite />\r\n                  </p>\r\n                  <Link\r\n                    to={{\r\n                      pathname: `/character/${character.name}`,\r\n                      propsHome: `${this.getHome(`${character.homeworld}`)}`,\r\n                    }}\r\n                  >\r\n                    <h2>{character.name}</h2>\r\n                    <p>\r\n                      <span>gender: </span>\r\n                      {character.gender}\r\n                    </p>\r\n                    <p>\r\n                      <span>homeworld: </span>\r\n                      {this.getHome(`${character.homeworld}`) ||\r\n                        `${character.homeworld}`}\r\n                    </p>\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            {showAll && <button onClick={this.onBtnAll}>All Characters</button>}\r\n            {showBtn && <Button onClick={this.fetchNextCharacters} />}\r\n            <p className={s.up} onClick={this.onBtnUp}>\r\n              <ArrowUpwardSharp />\r\n            </p>\r\n          </>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport Characters from '../Characters/Characters';\r\n\r\nexport default class Home extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <Characters />\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Favorite } from '@material-ui/icons';\r\nimport swal from 'sweetalert';\r\nimport LocalServ from '../LocalService/LocalService';\r\nimport s from '../../components/Characters/Characters.module.css';\r\n\r\nexport default class User extends Component {\r\n  state = {\r\n    user: [],\r\n    characters: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    const characters = JSON.parse(localStorage.getItem('favorites'));\r\n    this.setState({ user });\r\n    this.setState({ characters });\r\n  }\r\n  toggleClass = async e => {\r\n    const likeBtn = e.currentTarget;\r\n    const currentName =\r\n      e.currentTarget.parentNode.childNodes[1].childNodes[0].textContent;\r\n\r\n    swal('Character removed from favorites!');\r\n    const newFavorites = LocalServ.removeFavorite(currentName);\r\n    localStorage.setItem('favorites', JSON.stringify(newFavorites));\r\n\r\n    likeBtn.classList.toggle('like');\r\n    likeBtn.classList.toggle('notLike');\r\n    this.setState({ characters: newFavorites });\r\n  };\r\n\r\n  render() {\r\n    const { user, characters } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <h2>Your favorite characters</h2>\r\n        {characters ? (\r\n          <div>\r\n            <ul className={s.charactersList}>\r\n              {characters.map(character => (\r\n                <li className={s.charactersListItem} key={character.name}>\r\n                  <p className='like' onClick={this.toggleClass}>\r\n                    <Favorite />\r\n                  </p>\r\n                  <Link\r\n                    to={{\r\n                      pathname: `/character/${character.name}`,\r\n                      propsHome: `${character.homeworld}`,\r\n                    }}\r\n                  >\r\n                    <h2>{character.name}</h2>\r\n                    <p>\r\n                      <span>gender: </span>\r\n                      {character.gender}\r\n                    </p>\r\n                    <p>\r\n                      <span>homeworld: </span>\r\n                      {character.homeworld}\r\n                    </p>\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        ) : (\r\n          <p>No favorites yet</p>\r\n        )}\r\n        <Link to='/'>\r\n          <button>All Characters</button>\r\n        </Link>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","export default {\r\n  home: '/',\r\n  charDetails: '/character/:id',\r\n  user: '/user',\r\n  login: '/login',\r\n};\r\n","import React, { Component } from 'react';\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Redirect } from 'react-router-dom';\r\nimport routes from '../../routes/routes';\r\n\r\nexport default class Login extends Component {\r\n  state = {\r\n    isLoggedIn: false,\r\n    userId: '',\r\n    name: '',\r\n    email: '',\r\n    picture: '',\r\n    redirectLogin: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    if (user) {\r\n      this.setState({ name: user.name });\r\n      this.setState({ picture: user.picture });\r\n      this.setState({ isLoggedIn: true });\r\n    } else return null;\r\n  }\r\n\r\n  responseFacebook = response => {\r\n    try {\r\n      this.setState({\r\n        isLoggedIn: true,\r\n        userID: response.userID,\r\n        name: response.name,\r\n        email: response.email,\r\n        picture: response.picture.data.url,\r\n      });\r\n\r\n      localStorage.setItem('user', JSON.stringify(this.state));\r\n\r\n      this.props.updateData(this.state);\r\n      this.setState({ redirectLogin: true });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let fbContent;\r\n    if (this.state.isLoggedIn) {\r\n      fbContent = (\r\n        <>\r\n          <div className='fb-cont-modal'>\r\n            <img src={this.state.picture} alt={this.state.name} width='50' />\r\n            <p className='fb-name'>Welcome {this.state.name}</p>\r\n          </div>\r\n          <NavLink exact to={routes.user}>\r\n            Go to your Profile\r\n          </NavLink>\r\n        </>\r\n      );\r\n    } else {\r\n      fbContent = (\r\n        <FacebookLogin\r\n          appId='889512418490999'\r\n          fields='name,email,picture'\r\n          cssClass='facebook-button'\r\n          callback={this.responseFacebook}\r\n        />\r\n      );\r\n    }\r\n    return (\r\n      <>\r\n        <div>{fbContent}</div>\r\n\r\n        {this.state.redirectLogin ? <Redirect push to='/user' /> : null}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.f5893d7d.svg\";","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport swal from 'sweetalert';\r\nimport logo from '../../logo.svg';\r\n\r\nimport routes from '../../routes/routes';\r\nimport s from './Navigation.module.css';\r\nimport Login from '../views/Login';\r\n\r\nexport default class Navigation extends Component {\r\n  state = {\r\n    user: [],\r\n    children: this.props.children,\r\n    redirectLogout: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    this.setState({ user });\r\n  }\r\n  updateData = value => {\r\n    this.setState({ user: value });\r\n  };\r\n\r\n  onLogout = () => {\r\n    swal('You have been successfully logged out!');\r\n    this.setState({ user: '' });\r\n    localStorage.removeItem('user');\r\n    this.setState({ redirectLogout: true });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.state.redirectLogout && <Redirect push to='/' />}\r\n        <div className={s.menu}>\r\n          <div className={s.wrap}>\r\n            <NavLink exact to={routes.home}>\r\n              <img src={logo} width='150' className='App-logo' alt='logo' />\r\n            </NavLink>\r\n\r\n            <div className={s.navBtn}>\r\n              {this.state.user ? (\r\n                <>\r\n                  <NavLink exact to={routes.user}>\r\n                    <div className='fb-cont'>\r\n                      <span className='fb-name'>{this.state.user.name}</span>\r\n                      <img\r\n                        src={this.state.user.picture}\r\n                        alt={this.state.user.name}\r\n                        width='40'\r\n                      />\r\n                    </div>\r\n                  </NavLink>\r\n                  <button onClick={this.onLogout}>Logout</button>\r\n                </>\r\n              ) : (\r\n                <Login updateData={this.updateData} />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <section>{this.state.children}</section>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  const isAuthenticated = JSON.parse(localStorage.getItem('user')); // user\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        isAuthenticated ? <Component {...props} /> : <Redirect to='/login' />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React, { lazy, Suspense } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\nimport Home from './components/views/Home';\nimport User from './components/views/User';\nimport Login from './components/views/Login';\nimport Navigation from './components/Navigation/Navigation';\nimport PrivateRoute from './components/PrivateRote';\nimport routes from './routes/routes';\nconst AsyncChar = lazy(() =>\n  import(\n    './components/CharDetails/CharDetails' /* webpackChunkName: 'CharDetails'*/\n  )\n);\n\nfunction App() {\n  return (\n    <div className='App'>\n      <Navigation>\n        <Suspense fallback={<div>Loading...</div>}>\n          <Switch>\n            <Route path={routes.home} exact component={Home} />\n\n            <Route path={routes.charDetails} exact component={AsyncChar} />\n            <Route path={routes.login} exact component={Login} />\n            <PrivateRoute path={routes.user} exact component={User} />\n            <Redirect to={'/login'} />\n          </Switch>\n        </Suspense>\n      </Navigation>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"charactersListItem\":\"Characters_charactersListItem__xswQw\",\"up\":\"Characters_up__1f9t4\"};","class LocalServ {\r\n  getFavorites() {\r\n    return JSON.parse(localStorage.getItem('favorites'));\r\n  }\r\n\r\n  setFavorite(value) {\r\n    const favorites = this.getFavorites();\r\n    let arr = [];\r\n    if (!favorites) {\r\n      arr.push(value);\r\n      localStorage.setItem('favorites', JSON.stringify(arr));\r\n      return;\r\n    } else {\r\n      favorites.push(value);\r\n      localStorage.setItem('favorites', JSON.stringify(favorites));\r\n    }\r\n  }\r\n\r\n  findDoubleFav(name) {\r\n    const favorites = this.getFavorites();\r\n    return favorites.find(f => f.name === name);\r\n  }\r\n\r\n  removeFavorite(name) {\r\n    const favorites = this.getFavorites();\r\n    return favorites.filter(f => f.name !== name);\r\n  }\r\n}\r\n\r\nconst localServ = new LocalServ();\r\nexport default localServ;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchFormButton\":\"Searchbar_SearchFormButton__2Tw-D\",\"SearchFormInput\":\"Searchbar_SearchFormInput__FYYEu\",\"SearchForm\":\"Searchbar_SearchForm__2OwfT\"};","import axios from 'axios';\r\nimport swal from 'sweetalert';\r\n\r\naxios.defaults.baseURL = `https://swapi.dev/api`;\r\n\r\n///first req\r\nexport const charFetchApi = async page => {\r\n  if (!page) {\r\n    try {\r\n      const firstResponse = await axios.get(`/people/`);\r\n      return firstResponse.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  } else {\r\n    const response = await axios.get(`/people/?page=${page}`);\r\n    if (response.data.next === null) {\r\n      swal('All characters are already shown');\r\n    }\r\n    return response.data;\r\n  }\r\n};\r\n\r\nlet allRes = [];\r\nexport const allFetch = async value => {\r\n  let newArr = [];\r\n  allRes = []; //clear from last session\r\n  const response = await axios.get(`https://swapi.dev/api/${value}/?page=1`); //first for next\r\n  allRes.push(...response.data.results);\r\n  if (response.data.next) {\r\n    newArr = await allResponses(response.data.next);\r\n  }\r\n  return newArr;\r\n};\r\nconst allResponses = async next => {\r\n  const response = await axios.get(`${next}`); //nexts\r\n  allRes.push(...response.data.results);\r\n  if (response.data.next) {\r\n    allResponses(response.data.next);\r\n  }\r\n  return allRes;\r\n};\r\n\r\n///for films\r\nexport const filmsFetch = async () => {\r\n  try {\r\n    const filmsRes = await axios.get(`/films/`);\r\n    return filmsRes.data.results;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n///for search query\r\nexport const fetchApiQuery = async query => {\r\n  try {\r\n    const res = await axios.get(`/people/?search=${query}`);\r\n\r\n    if (!res.data.count) {\r\n      swal('No results. Try another query');\r\n      return null;\r\n    }\r\n    if (res.data.count > 10) {\r\n      swal('Please provide more info');\r\n      return;\r\n    }\r\n\r\n    return res.data.results;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Navigation_menu__2z80n\",\"wrap\":\"Navigation_wrap__2eW7P\",\"fb\":\"Navigation_fb__29w8v\",\"activelink\":\"Navigation_activelink__1h5RH\",\"navBtn\":\"Navigation_navBtn__mdtFB\"};","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nfunction Spinner() {\r\n  return <Loader type=\"BallTriangle\" color=\"#00BFFF\" height={80} width={80} />;\r\n}\r\n\r\nexport default Spinner;\r\n"],"sourceRoot":""}